!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.f=a();else if("function"==typeof define&&define.M)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.ID3=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw i=Error("Cannot find module '"+g+"'"),i.code="MODULE_NOT_FOUND",i}i=c[g]={f:{}},b[g][0].call(i.f,function(a){var c=b[g][1][a];return e(c?c:a)},i,i.f,a,b,c,d)}return c[g].f}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=a("./stringutils");if("undefined"!=typeof document){var d=document.createElement("script");d.type="text/vbscript",d.textContent="Function IEBinary_getByteAt(strBinary, iOffset)\r\n\tIEBinary_getByteAt = AscB(MidB(strBinary,iOffset+1,1))\r\nEnd Function\r\nFunction IEBinary_getLength(strBinary)\r\n\tIEBinary_getLength = LenB(strBinary)\r\nEnd Function\r\n",document.getElementsByTagName("head")[0].appendChild(d)}else a("btoa"),a("atob");b.f=function(a,b,d){var e=b||0,f=0;"string"==typeof a?(f=d||a.length,this.a=function(b){return 255&a.charCodeAt(b+e)}):"unknown"==typeof a&&(f=d||IEBinary_getLength(a),this.a=function(b){return IEBinary_getByteAt(a,b+e)}),this.s=function(a,b){for(var c=Array(b),d=0;d<b;d++)c[d]=this.a(a+d);return c},this.l=function(){return f},this.g=function(a,b){return 0!=(this.a(a)&1<<b)},this.F=function(a){return a=(this.a(a+1)<<8)+this.a(a),0>a&&(a+=65536),a},this.m=function(a){var b=this.a(a),c=this.a(a+1),d=this.a(a+2);return a=this.a(a+3),b=(((b<<8)+c<<8)+d<<8)+a,0>b&&(b+=4294967296),b},this.w=function(a){var b=this.a(a),c=this.a(a+1);return a=this.a(a+2),b=((b<<8)+c<<8)+a,0>b&&(b+=16777216),b},this.c=function(a,b){for(var c=[],d=a,e=0;d<a+b;d++,e++)c[e]=String.fromCharCode(this.a(d));return c.join("")},this.h=function(a,b,d){switch(a=this.s(a,b),d.toLowerCase()){case"utf-16":case"utf-16le":case"utf-16be":d=c.J(a,d);break;case"utf-8":d=c.K(a);break;default:d=c.I(a)}return d},this.i=function(a,b){b()}}},{"./stringutils":9,atob:void 0,btoa:void 0}],2:[function(a,b){var c=a("./binaryfile");b.f=function(b,d,e){function f(a,b,c,d,e,f){var h=g();h?("undefined"==typeof f&&(f=!0),b&&("undefined"!=typeof h.onload?(h.onload=function(){"200"==h.status||"206"==h.status?(h.fileSize=e||h.getResponseHeader("Content-Length"),b(h)):c&&c({error:"xhr",xhr:h}),h=null},c&&(h.onerror=function(){c({error:"xhr",xhr:h}),h=null})):h.onreadystatechange=function(){4==h.readyState&&("200"==h.status||"206"==h.status?(h.fileSize=e||h.getResponseHeader("Content-Length"),b(h)):c&&c({error:"xhr",xhr:h}),h=null)}),h.open("GET",a,f),h.overrideMimeType&&h.overrideMimeType("text/plain; charset=x-user-defined"),d&&h.setRequestHeader("Range","bytes="+d[0]+"-"+d[1]),h.setRequestHeader("If-Modified-Since","Sat, 01 Jan 1970 00:00:00 GMT"),h.send(null)):c&&c({error:"Unable to create XHR object"})}function g(){var b=null;return"undefined"==typeof window?b=new(a("xmlhttprequest").XMLHttpRequest):window.XMLHttpRequest?b=new window.XMLHttpRequest:window.ActiveXObject&&(b=new window.ActiveXObject("Microsoft.XMLHTTP")),b}function h(a,b,c){var d=g();d?(b&&("undefined"!=typeof d.onload?(d.onload=function(){"200"==d.status||"206"==d.status?b(this):c&&c({error:"xhr",xhr:d}),d=null},c&&(d.onerror=function(){c({error:"xhr",xhr:d}),d=null})):d.onreadystatechange=function(){4==d.readyState&&("200"==d.status||"206"==d.status?b(this):c&&c({error:"xhr",xhr:d}),d=null)}),d.open("HEAD",a,!0),d.send(null)):c&&c({error:"Unable to create XHR object"})}function i(a,b){function d(a){var b=~~(a[0]/h)-i;return a=~~(a[1]/h)+1+i,0>b&&(b=0),a>=blockTotal&&(a=blockTotal-1),[b,a]}function g(c,d){for(;l[c[0]];)if(c[0]++,c[0]>c[1])return void(d&&d());for(;l[c[1]];)if(c[1]--,c[0]>c[1])return void(d&&d());var g=[c[0]*h,(c[1]+1)*h-1];f(a,function(a){parseInt(a.getResponseHeader("Content-Length"),10)==b&&(c[0]=0,c[1]=blockTotal-1,g[0]=0,g[1]=b-1),a={data:a.W||a.responseText,offset:g[0]};for(var e=c[0];e<=c[1];e++)l[e]=a;d&&d()},e,g,j,!!d)}var h,i,j,k=new c("",0,b),l=[];h=h||2048,i="undefined"==typeof i?0:i,blockTotal=~~((b-1)/h)+1;for(var m in k)k.hasOwnProperty(m)&&"function"==typeof k[m]&&(this[m]=k[m]);this.a=function(a){var b;return g(d([a,a])),(b=l[~~(a/h)])&&"string"==typeof b.data?255&b.data.charCodeAt(a-b.offset):b&&"unknown"==typeof b.data?IEBinary_getByteAt(b.data,a-b.offset):""},this.i=function(a,b){g(d(a),b)}}!function(){h(b,function(a){a=parseInt(a.getResponseHeader("Content-Length"),10)||-1,d(new i(b,a))},e)}()}},{"./binaryfile":1,xmlhttprequest:void 0}],3:[function(a,b){var c=a("./binaryfile");b.f=function(a,b){return function(d,e){var f=b||new FileReader;f.onload=function(a){e(new c(a.target.result))},f.readAsBinaryString(a)}}},{"./binaryfile":1}],4:[function(a,b){function c(a){return"ftypM4A"==a.c(4,7)?d:"ID3"==a.c(0,3)?f:e}var d=a("./id4"),e=a("./id3v1"),f=a("./id3v2"),g=a("./bufferedbinaryajax"),h=a("./filereader");"undefined"!=typeof window&&(window.FileAPIReader=h);var i={},j={},k=[0,7];i.B=function(a){delete j[a]},i.A=function(){j={}},i.H=function(a,b,d){d=d||{},(d.dataReader||g)(a,function(e){e.i(k,function(){var f=c(e);f.u(e,function(){var c,g=d.tags,h=f.v(e,g),g=j[a]||{};for(c in h)h.hasOwnProperty(c)&&(g[c]=h[c]);j[a]=g,b&&b()})})},d.onError)},i.D=function(a){if(!j[a])return null;var b,c={};for(b in j[a])j[a].hasOwnProperty(b)&&(c[b]=j[a][b]);return c},i.G=function(a,b){return j[a]?j[a][b]:null},i.FileAPIReader=h,i.loadTags=i.H,i.getAllTags=i.D,i.getTag=i.G,i.clearTags=i.B,i.clearAll=i.A,b.f=i},{"./bufferedbinaryajax":2,"./filereader":3,"./id3v1":5,"./id3v2":6,"./id4":8}],5:[function(a,b){var c={},d="Blues;Classic Rock;Country;Dance;Disco;Funk;Grunge;Hip-Hop;Jazz;Metal;New Age;Oldies;Other;Pop;R&B;Rap;Reggae;Rock;Techno;Industrial;Alternative;Ska;Death Metal;Pranks;Soundtrack;Euro-Techno;Ambient;Trip-Hop;Vocal;Jazz+Funk;Fusion;Trance;Classical;Instrumental;Acid;House;Game;Sound Clip;Gospel;Noise;AlternRock;Bass;Soul;Punk;Space;Meditative;Instrumental Pop;Instrumental Rock;Ethnic;Gothic;Darkwave;Techno-Industrial;Electronic;Pop-Folk;Eurodance;Dream;Southern Rock;Comedy;Cult;Gangsta;Top 40;Christian Rap;Pop/Funk;Jungle;Native American;Cabaret;New Wave;Psychadelic;Rave;Showtunes;Trailer;Lo-Fi;Tribal;Acid Punk;Acid Jazz;Polka;Retro;Musical;Rock & Roll;Hard Rock;Folk;Folk-Rock;National Folk;Swing;Fast Fusion;Bebob;Latin;Revival;Celtic;Bluegrass;Avantgarde;Gothic Rock;Progressive Rock;Psychedelic Rock;Symphonic Rock;Slow Rock;Big Band;Chorus;Easy Listening;Acoustic;Humour;Speech;Chanson;Opera;Chamber Music;Sonata;Symphony;Booty Bass;Primus;Porn Groove;Satire;Slow Jam;Club;Tango;Samba;Folklore;Ballad;Power Ballad;Rhythmic Soul;Freestyle;Duet;Punk Rock;Drum Solo;Acapella;Euro-House;Dance Hall".split(";");c.u=function(a,b){var c=a.l();a.i([c-128-1,c],b)},c.v=function(a){var b=a.l()-128;if("TAG"==a.c(b,3)){var c=a.c(b+3,30).replace(/\0/g,""),e=a.c(b+33,30).replace(/\0/g,""),f=a.c(b+63,30).replace(/\0/g,""),g=a.c(b+93,4).replace(/\0/g,"");if(0==a.a(b+97+28))var h=a.c(b+97,28).replace(/\0/g,""),i=a.a(b+97+29);else h="",i=0;return a=a.a(b+97+30),{version:"1.1",title:c,artist:e,album:f,year:g,comment:h,track:i,genre:255>a?d[a]:""}}return{}},b.f=c},{}],6:[function(a,b){function c(a,b){var c=b.a(a),d=b.a(a+1),e=b.a(a+2);return 127&b.a(a+3)|(127&e)<<7|(127&d)<<14|(127&c)<<21}var d=a("./id3v2frames");d.frames={BUF:"Recommended buffer size",CNT:"Play counter",COM:"Comments",CRA:"Audio encryption",CRM:"Encrypted meta frame",ETC:"Event timing codes",EQU:"Equalization",GEO:"General encapsulated object",IPL:"Involved people list",LNK:"Linked information",MCI:"Music CD Identifier",MLL:"MPEG location lookup table",PIC:"Attached picture",POP:"Popularimeter",REV:"Reverb",RVA:"Relative volume adjustment",SLT:"Synchronized lyric/text",STC:"Synced tempo codes",TAL:"Album/Movie/Show title",TBP:"BPM (Beats Per Minute)",TCM:"Composer",TCO:"Content type",TCR:"Copyright message",TDA:"Date",TDY:"Playlist delay",TEN:"Encoded by",TFT:"File type",TIM:"Time",TKE:"Initial key",TLA:"Language(s)",TLE:"Length",TMT:"Media type",TOA:"Original artist(s)/performer(s)",TOF:"Original filename",TOL:"Original Lyricist(s)/text writer(s)",TOR:"Original release year",TOT:"Original album/Movie/Show title",TP1:"Lead artist(s)/Lead performer(s)/Soloist(s)/Performing group",TP2:"Band/Orchestra/Accompaniment",TP3:"Conductor/Performer refinement",TP4:"Interpreted, remixed, or otherwise modified by",TPA:"Part of a set",TPB:"Publisher",TRC:"ISRC (International Standard Recording Code)",TRD:"Recording dates",TRK:"Track number/Position in set",TSI:"Size",TSS:"Software/hardware and settings used for encoding",TT1:"Content group description",TT2:"Title/Songname/Content description",TT3:"Subtitle/Description refinement",TXT:"Lyricist/text writer",TXX:"User defined text information frame",TYE:"Year",UFI:"Unique file identifier",ULT:"Unsychronized lyric/text transcription",WAF:"Official audio file webpage",WAR:"Official artist/performer webpage",WAS:"Official audio source webpage",WCM:"Commercial information",WCP:"Copyright/Legal information",WPB:"Publishers official webpage",WXX:"User defined URL link frame",AENC:"Audio encryption",APIC:"Attached picture",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVAD:"Relative volume adjustment",RVRB:"Reverb",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",TIME:"Time",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMED:"Media type",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",TPE1:"Lead performer(s)/Soloist(s)",TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",TYER:"Year",TXXX:"User defined text information frame",UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"};var e={title:["TIT2","TT2"],artist:["TPE1","TP1"],album:["TALB","TAL"],year:["TYER","TYE"],comment:["COMM","COM"],track:["TRCK","TRK"],genre:["TCON","TCO"],picture:["APIC","PIC"],lyrics:["USLT","ULT"]},f=["title","artist","album","track"];d.u=function(a,b){a.i([0,c(6,a)],b)},d.v=function(a,b){var g=0,h=a.a(g+3);if(4<h)return{version:">2.4"};var i=a.a(g+4),j=a.g(g+5,7),k=a.g(g+5,6),l=a.g(g+5,5),m=c(g+6,a),g=g+10;if(k)var n=a.m(g),g=g+(n+4);var o,h={version:"2."+h+"."+i,major:h,revision:i,flags:{unsynchronisation:j,extended_header:k,experimental_indicator:l},size:m};if(j)o={};else{for(var p,m=m-10,j=a,i=b,k={},l=h.major,n=[],q=0;p=(i||f)[q];q++)n=n.concat(e[p]||[p]);for(i=n;g<m;){n=null,q=j,p=g;var r=null;switch(l){case 2:o=q.c(p,3);var s=q.w(p+3),t=6;break;case 3:o=q.c(p,4),s=q.m(p+4),t=10;break;case 4:o=q.c(p,4),s=c(p+4,q),t=10}if(""==o)break;if(g+=t+s,!(0>i.indexOf(o))){if(2<l)var r=q,u=p+8,r={message:{Y:r.g(u,6),R:r.g(u,5),V:r.g(u,4)},format:{T:r.g(u+1,7),N:r.g(u+1,3),P:r.g(u+1,2),L:r.g(u+1,1),C:r.g(u+1,0)}};p+=t,r&&r.format.C&&(c(p,q),p+=4,s-=4),r&&r.format.L||(o in d.b?n=d.b[o]:"T"==o[0]&&(n=d.b["T*"]),n=n?n(p,s,q,r):void 0,n={id:o,size:s,description:o in d.frames?d.frames[o]:"Unknown",data:n},o in k?(k[o].id&&(k[o]=[k[o]]),k[o].push(n)):k[o]=n)}}o=k}for(var v in e)if(e.hasOwnProperty(v)){a:{for(s=e[v],"string"==typeof s&&(s=[s]),t=0,g=void 0;g=s[t];t++)if(g in o){a=o[g].data;break a}a=void 0}a&&(h[v]=a)}for(var w in o)o.hasOwnProperty(w)&&(h[w]=o[w]);return h},b.f=d},{"./id3v2frames":7}],7:[function(a,b){function c(a){var b;switch(a){case 0:b="iso-8859-1";break;case 1:b="utf-16";break;case 2:b="utf-16be";break;case 3:b="utf-8"}return b}var d={b:{}},e="32x32 pixels 'file icon' (PNG only);Other file icon;Cover (front);Cover (back);Leaflet page;Media (e.g. lable side of CD);Lead artist/lead performer/soloist;Artist/performer;Conductor;Band/Orchestra;Composer;Lyricist/text writer;Recording Location;During recording;During performance;Movie/video screen capture;A bright coloured fish;Illustration;Band/artist logotype;Publisher/Studio logotype".split(";");d.b.APIC=function(a,b,d,f,g){g=g||"3",f=a;var h=c(d.a(a));switch(g){case"2":var i=d.c(a+1,3);a+=4;break;case"3":case"4":i=d.h(a+1,b-(a-f),""),a+=1+i.j}return g=d.a(a,1),g=e[g],h=d.h(a+1,b-(a-f),h),a+=1+h.j,{format:i.toString(),type:g,description:h.toString(),data:d.s(a,f+b-a)}},d.b.COMM=function(a,b,d){var e=a,f=c(d.a(a)),g=d.c(a+1,3),h=d.h(a+4,b-4,f);return a+=4+h.j,a=d.h(a,e+b-a,f),{language:g,X:h.toString(),text:a.toString()}},d.b.COM=d.b.COMM,d.b.PIC=function(a,b,c,e){return d.b.APIC(a,b,c,e,"2")},d.b.PCNT=function(a,b,c){return c.S(a)},d.b.CNT=d.b.PCNT,d.b["T*"]=function(a,b,d){var e=c(d.a(a));return d.h(a+1,b-1,e).toString()},d.b.TCON=function(a,b,c){return d.b["T*"].apply(this,arguments).replace(/^\(\d+\)/,"")},d.b.TCO=d.b.TCON,d.b.USLT=function(a,b,d){var e=a,f=c(d.a(a)),g=d.c(a+1,3),h=d.h(a+4,b-4,f);return a+=4+h.j,a=d.h(a,e+b-a,f),{language:g,O:h.toString(),U:a.toString()}},d.b.ULT=d.b.USLT,b.f=d},{}],8:[function(a,b){function c(a,b,d,f){var g=a.m(b);if(0==g)f();else{var h=a.c(b+4,4);-1<["moov","udta","meta","ilst"].indexOf(h)?("meta"==h&&(b+=4),a.i([b+8,b+8+8],function(){c(a,b+8,g-8,f)})):a.i([b+(h in e.o?0:g),b+g+8],function(){c(a,b+g,d,f)})}}function d(a,b,c,f,g){g=void 0===g?"":g+"  ";for(var h=c;h<c+f;){var i=b.m(h);if(0==i)break;var j=b.c(h+4,4);if(-1<["moov","udta","meta","ilst"].indexOf(j)){"meta"==j&&(h+=4),d(a,b,h+8,i-8,g);break}if(e.o[j]){var k=b.w(h+16+1),l=e.o[j],k=e.types[k];if("trkn"==j)a[l[0]]=b.a(h+16+11),a.count=b.a(h+16+13);else{var m,j=h+16+4+4,n=i-16-4-4;switch(k){case"text":m=b.h(j,n,"UTF-8");break;case"uint8":m=b.F(j);break;case"jpeg":case"png":m={format:"image/"+k,data:b.s(j,n)}}a[l[0]]="comment"===l[0]?{text:m}:m}}h+=i}}var e={types:{0:"uint8",1:"text",13:"jpeg",14:"png",21:"uint8"},o:{"©alb":["album"],"©art":["artist"],"©ART":["artist"],aART:["artist"],"©day":["year"],"©nam":["title"],"©gen":["genre"],trkn:["track"],"©wrt":["composer"],"©too":["encoder"],cprt:["copyright"],covr:["picture"],"©grp":["grouping"],keyw:["keyword"],"©lyr":["lyrics"],"©cmt":["comment"],tmpo:["tempo"],cpil:["compilation"],disk:["disc"]},u:function(a,b){a.i([0,7],function(){c(a,0,a.l(),b)})},v:function(a){var b={};return d(b,a,0,a.l()),b}};b.f=e},{}],9:[function(a,b){b.f={J:function(a,b,c){var d=0,e=1,f=0;c=Math.min(c||a.length,a.length),254==a[0]&&255==a[1]?(b=!0,d=2):255==a[0]&&254==a[1]&&(b=!1,d=2),b&&(e=0,f=1),b=[];for(var g=0;d<c;g++){var h=a[d+e],i=(h<<8)+a[d+f],d=d+2;if(0==i)break;216>h||224<=h?b[g]=String.fromCharCode(i):(h=(a[d+e]<<8)+a[d+f],d+=2,b[g]=String.fromCharCode(i,h))}return a=new String(b.join("")),a.j=d,a},K:function(a,b){var c=0;b=Math.min(b||a.length,a.length),239==a[0]&&187==a[1]&&191==a[2]&&(c=3);for(var d=[],e=0;c<b;e++){var f=a[c++];if(0==f)break;if(128>f)d[e]=String.fromCharCode(f);else if(194<=f&&224>f){var g=a[c++];d[e]=String.fromCharCode(((31&f)<<6)+(63&g))}else if(224<=f&&240>f){var g=a[c++],h=a[c++];d[e]=String.fromCharCode(((255&f)<<12)+((63&g)<<6)+(63&h))}else if(240<=f&&245>f){var g=a[c++],h=a[c++],i=a[c++],f=((7&f)<<18)+((63&g)<<12)+((63&h)<<6)+(63&i)-65536;d[e]=String.fromCharCode((f>>10)+55296,(1023&f)+56320)}}return d=new String(d.join("")),d.j=c,d},I:function(a,b){var c=[];b=b||a.length;for(var d=0;d<b;){var e=a[d++];if(0==e)break;c[d-1]=String.fromCharCode(e)}return c=new String(c.join("")),c.j=d,c}}},{}]},{},[4])(4)});
//# sourceMappingURL=id3-minimized.js.map